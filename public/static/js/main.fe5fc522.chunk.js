(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t){},112:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),c=a.n(l),o=(a(80),a(6)),i=a(7),s=a(9),u=a(8),m=a(10),p=a(18),d=a(28),h=a(126),b=a(127),E=a(125),f=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{bg:"light",expand:"lg"},r.a.createElement(h.a.Brand,null,"Pitch A Song"),r.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(b.a,{className:"mr-auto"},r.a.createElement(E.a,{title:"Menu",id:"basic-nav-dropdown"},r.a.createElement(b.a.Item,null,r.a.createElement(p.b,{to:"/"},"Home")),r.a.createElement(b.a.Item,null,r.a.createElement(p.b,{to:"/filetest"},"Test file")),r.a.createElement(b.a.Item,null,r.a.createElement(p.b,{to:"/humrecord"},"Test hum")),r.a.createElement(b.a.Item,null,r.a.createElement(p.b,{to:"/texttest"},"Test lyrics")),r.a.createElement(b.a.Item,null,"Sign up"),r.a.createElement(b.a.Item,null,"Log in")))))}}]),t}(n.Component),y=a(119),v=a(120),j=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,{fluid:!0},r.a.createElement(v.a,null,r.a.createElement("h1",null,"Test your song!"),r.a.createElement("p",null,"Do you feel that your song has already been written? Fear not my Friend! Test your song to gain certainty in your composing process.")))}}]),t}(n.Component),O=a(128),g=a(68),x=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(O.a,{style:{width:"18rem"}},r.a.createElement(O.a.Img,{variant:"top",src:"testpic.png"}),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,"Test by humming"),r.a.createElement(O.a.Text,null,"Test you song by humming and get matching results."),r.a.createElement(p.b,{to:"/humrecord"},r.a.createElement(g.a,{variant:"primary"},"Test"))))}}]),t}(n.Component),k=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(O.a,{style:{width:"18rem"}},r.a.createElement(O.a.Img,{variant:"top",src:"textpic.png"}),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,"Test your lyrics"),r.a.createElement(O.a.Text,null,"Test your song lyrics and get matching results."),r.a.createElement(p.b,{to:"/texttest"},r.a.createElement(g.a,{variant:"primary"},"Test"))))}}]),t}(n.Component),w=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(O.a,{style:{width:"18rem"}},r.a.createElement(O.a.Img,{variant:"top",src:"filepic.png"}),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,"Test audiofile"),r.a.createElement(O.a.Text,null,"Test your produced audiofile and get matching results."),r.a.createElement(p.b,{to:"/filetest"},r.a.createElement(g.a,{variant:"primary"},"Test"))))}}]),t}(n.Component),T=(a(109),a(121)),S=a(71),C=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement(v.a,null,r.a.createElement(T.a,null,r.a.createElement(S.a,null,r.a.createElement(w,null)),r.a.createElement(S.a,null,r.a.createElement(x,null)),r.a.createElement(S.a,null,r.a.createElement(k,null)))))}}]),t}(n.Component),R=a(52),N=a.n(R),I=a(72);function L(){return(L=Object(I.a)(N.a.mark(function e(t){var a,n,r,l;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("audiofile",t),n={method:"POST",mode:"cors",mimeType:"multipart/form-data",body:a},e.prev=3,e.next=6,fetch("http://loppuprojekti-env.4wv6cxwtgr.eu-central-1.elasticbeanstalk.com/hum",n);case 6:return r=e.sent,e.next=9,r.json();case 9:if(!(l=e.sent).success){e.next=14;break}return e.abrupt("return",l.message);case 14:throw new Error(l.message);case 15:e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(3),console.error(e.t0),e.t0;case 21:case"end":return e.stop()}},e,null,[[3,17]])}))).apply(this,arguments)}a(112);var A=a(122),B=a(73),M=a.n(B),D=(a(113),a(114),function(e){return r.a.createElement(O.a,null,r.a.createElement(O.a.Title,null,"No matches were found for your melody!"))}),U=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){if(0===this.props.items.length)return r.a.createElement(D,null);var e=this.props.items.sort(function(e,t){return t.score-e.score}).map(function(e,t){return r.a.createElement(O.a,{className:"text-center",key:t},r.a.createElement(O.a.Header,null,"Matched ",r.a.createElement("strong",null,e.title)," by ",e.artist," \xa0",r.a.createElement(M.a,{initialAnimation:!0,percentage:e.score,text:"".concat(e.score,"%"),styles:{path:{stroke:"#4cbc40"}}})),e.spotifyResult?r.a.createElement(O.a.Body,null,r.a.createElement(A.a,{src:e.spotifyResult.imgUrl||"",thumbnail:!0}),r.a.createElement("span",null," album: ",e.spotifyResult.albumName||"N/A"," "),r.a.createElement("span",null," released: ",e.spotifyResult.releaseDate||"N/A"," "),r.a.createElement(O.a.Link,{href:e.spotifyResult.trackUrl,target:"_blank"},r.a.createElement(A.a,{style:{maxWidth:"35px"},src:"Spotify_Icon.png"}))):r.a.createElement(O.a.Body,null,"No Spotify result"))});return r.a.createElement("div",null,e)}}]),t}(r.a.Component),F=function(e){return r.a.createElement(O.a,null,r.a.createElement(O.a.Title,null,"An error happened, please try again"))},J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={mediaRecorder:null,isSearching:!1,results:"",error:!1},a.onStart=function(){a.state.mediaRecorder&&"recording"!==a.state.mediaRecorder.state?(a.state.mediaRecorder.start(),a.setState({results:""}),P(a.state.mediaRecorder)):console.log("Mediarecorder is not defined or already recording")},a.onStop=function(){a.state.mediaRecorder&&"inactive"!==a.state.mediaRecorder.state?(a.state.mediaRecorder.stop(),P(a.state.mediaRecorder)):console.log("Mediarecorder is not defined or already inactive")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(navigator.mediaDevices){var t,a=[];navigator.mediaDevices.getUserMedia({audio:!0}).then(function(n){e.setState({mediaRecorder:new MediaRecorder(n)});var r=e.state.mediaRecorder;r.onstop=function(n){e.setState({isSearching:!0}),t=new Blob(a,{type:"audio/ogg; codecs=opus"}),a=[],function(e){return L.apply(this,arguments)}(t).then(function(t){e.setState({results:t})}).catch(function(t){e.setState({error:!0})})},r.ondataavailable=function(e){a.push(e.data)}})}else alert("getUserMedia not supported")}},{key:"componentWillUnmount",value:function(){this.setState({mediaRecorder:null})}},{key:"render",value:function(){return r.a.createElement(v.a,null,r.a.createElement(T.a,null,r.a.createElement(S.a,{md:3}),r.a.createElement(S.a,{md:6},r.a.createElement("button",{className:"round-button",onClick:this.onStart},r.a.createElement("i",{className:"fa fa-play fa-2x"})),r.a.createElement("button",{className:"round-button",onClick:this.onStop},r.a.createElement("i",{className:"fa fa-stop fa-2x"}))),r.a.createElement(S.a,{md:3})),r.a.createElement(T.a,null,r.a.createElement(S.a,{md:3}),r.a.createElement(S.a,{md:6},this.state.error?r.a.createElement(F,null):r.a.createElement("div",null)),r.a.createElement(S.a,{md:3})),r.a.createElement(T.a,null,r.a.createElement(S.a,{md:3}),r.a.createElement(S.a,{md:6},this.state.results?r.a.createElement(U,{items:this.state.results}):r.a.createElement("div",null)),r.a.createElement(S.a,{md:3})))}}]),t}(r.a.Component),P=function(e){console.log("====== "+e.state+" ======")},W=a(35),H=a(124),G=a(74),_=function(e){function t(e,a){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e,a))).state={open:!1},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open;return r.a.createElement("div",null,r.a.createElement(g.a,{onClick:function(){return e.setState({open:!t})},"aria-controls":"example-collapse-text","aria-expanded":t},"Get lyrics"),r.a.createElement(G.a,{in:this.state.open},r.a.createElement("div",{id:"example-collapse-text"},this.props.text)))}}]),t}(n.Component),q=a(123),z=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(q.a,{animation:"border",variant:"primary",size:"lg",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}]),t}(n.Component),$=(a(115),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={url:"/",data:[],open:!1,loading:!1},a.handleSubmit=a.handleSubmit.bind(Object(W.a)(Object(W.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0,data:[]});var a={};for(var n in this.refs)a[n]=this.refs[n].value;var r=JSON.stringify(a),l=JSON.parse(r),c="https://audd.p.rapidapi.com/findLyrics/?q="+encodeURI(l.text);console.log(c);var o={url:c};fetch("http://loppuprojekti-env.4wv6cxwtgr.eu-central-1.elasticbeanstalk.com/lyrics",{mode:"cors",method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log("Success:",e),t.setState({data:e.message.result,loading:!1})})}},{key:"render",value:function(){var e=this.state.data.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(O.a,null,r.a.createElement(O.a.Header,null,"Artist: ",e.artist),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,"Song title: ",e.title),r.a.createElement("div",null,r.a.createElement(_,{text:e.lyrics})))))});return r.a.createElement("div",null,r.a.createElement(H.a,{onSubmit:this.handleSubmit},r.a.createElement(H.a.Group,{controlId:"exampleForm.ControlTextarea1",className:"textfield"},r.a.createElement(H.a.Label,null,"Write your lyrics"),r.a.createElement(H.a.Control,{type:"text",placeholder:"",ref:"text"})),r.a.createElement(g.a,{variant:"primary",type:"submit"},"Test")),r.a.createElement("br",null),this.state.loading?r.a.createElement(z,null):"",e)}}]),t}(n.Component)),K=a(129),Q=(a(116),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(K.a,{min:0,max:20,now:this.props.now,label:"".concat(this.props.label,"sec")}))}}]),t}(n.Component)),V=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={progressTime:0,progressLabel:0},a.increaseProgress=function(){a.setState({progressTime:a.state.progressTime+.1})},a.increaseLabel=function(){a.setState({progressLabel:a.state.progressLabel+1})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){setInterval(this.increaseProgress,100),setInterval(this.increaseLabel,1e3)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"File testausta"),r.a.createElement(z,null),r.a.createElement("br",null),r.a.createElement(Q,{now:this.state.progressTime,label:this.state.progressLabel}))}}]),t}(n.Component),X=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"This page does not exist"))}}]),t}(n.Component),Y=(a(117),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,null,r.a.createElement(f,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:C}),r.a.createElement(d.a,{exact:!0,path:"/humrecord",component:J}),r.a.createElement(d.a,{exact:!0,path:"/texttest",component:$}),r.a.createElement(d.a,{exact:!0,path:"/filetest",component:V}),r.a.createElement(d.a,{path:"**",component:X}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},75:function(e,t,a){e.exports=a(118)},80:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.fe5fc522.chunk.js.map